{"version":3,"sources":["components/ui/Notifications.js","utils/index.js","utils/constants.js","components/ui/Identicon.js","components/Wallet.js","components/images/celo-logo.png","components/Cover.js","utils/NFTLottery.js","components/NFTLottery/prevRounds.js","hooks/useContract.js","components/NFTLottery/buyTicketForm.js","hooks/useIERC20Contract.js","hooks/useAsync.js","components/ui/Loader.js","components/NFTLottery/NFTLottery.js","App.js","hooks/useBalance.js","hooks/useNFTLotteryContract.js","reportWebVitals.js","index.js"],"names":["Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","className","NotificationError","DefaultProps","defaultProps","truncateAddress","address","slice","length","formatBigNumber","num","shiftedBy","toFixed","convertTime","secs","dateObj","Date","toLocaleDateString","weekday","year","month","day","toLocaleString","hour","minute","hour12","Identicon","size","rest","ref","useRef","useEffect","current","innerHTML","appendChild","Jazzicon","parseInt","style","width","height","Wallet","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","Spinner","animation","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Cover","connect","connectWallet","console","log","e","src","logo","alt","Button","approve","IECR20Contract","performActions","noOfTickets","ticketPrice","amountToApprove","BigNumber","toString","kit","defaultAccount","methods","NFTLotteryAddress","NFTLottery","send","from","toast","buyTickets","NFTLotteryContract","buyTicket","getCurrentLotteryID","getLotteryID","call","ID","getLottery","lotteryID","viewLottery","_lottery","checkTicketPrice","getPlayerTicketCount","ticketCount","PrevRounds","prevLottery","previousLotteryPlayerTickets","useContractKit","winner","noOfTicketsSold","noOfPlayers","winningTicket","amountInLottery","lotteryStartTime","lotteryEndTime","useState","lotteryId","setLotteryID","lottery","setLottery","playerTickets","setPlayerTicket","previousLottery","preventDefault","result","_playerTickets","nextLottery","rel","useContract","abi","contractAddress","getConnectedKit","contract","setContract","getContract","useCallback","web3","eth","Contract","BuyTicketForm","updateLottery","open","onClose","setAmount","setTicketNumber","IERC20Token","IERC20TokenAddress","cUSDToken","handleClose","approved","error","asyncFunction","immediate","status","setStatus","value","setValue","setError","execute","then","response","catch","useAsync","Modal","show","onHide","Header","closeButton","Title","Body","Form","onSubmit","FloatingLabel","controlId","label","Control","type","onChange","amounts","placeholder","Loader","role","loading","setLoading","setPrevLottery","setTicketPrice","setPreviousLotteryPlayerTickets","openModal","prevLotteryID","Number","_ticketPrice","App","balance","setBalance","getBalance","getTotalBalance","useBalance","Container","fluid","Nav","cUSD","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","networks","Alfajores","network","name","NetworkNames","rpcUrl","graphQl","explorer","chainId","dapp","description","document","getElementById"],"mappings":"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","file":"static/js/main.f15c1680.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ToastContainer } from \"react-toastify\";\n\nconst Notification = () => (\n  <ToastContainer\n    position=\"bottom-center\"\n    autoClose={5000}\n    hideProgressBar\n    newestOnTop\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss\n    draggable={false}\n    pauseOnHover\n  />\n);\n\nconst NotificationSuccess = ({ text }) => (\n  <div>\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst NotificationError = ({ text }) => (\n  <div>\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst Props = {\n  text: PropTypes.string,\n};\n\nconst DefaultProps = {\n  text: \"\",\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };\n","import { ERC20_DECIMALS } from \"./constants\";\n\n// format a wallet address\nexport const truncateAddress = (address) => {\n  if (!address) return;\n  return (\n    address.slice(0, 5) +\n    \"...\" +\n    address.slice(address.length - 4, address.length)\n  );\n};\n\n// convert from big number\nexport const formatBigNumber = (num) => {\n  if (!num) return;\n  return num.shiftedBy(-ERC20_DECIMALS).toFixed(2);\n};\n\nexport const convertTime = (secs) => {\n  if (secs === 0) {\n    return \"--\";\n  }\n\n  let dateObj = new Date(secs * 1000);\n\n  let date = dateObj.toLocaleDateString(\"en-us\", {\n    weekday: \"short\",\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n  let time = dateObj.toLocaleString(\"en-us\", {\n    hour: \"numeric\",\n    minute: \"numeric\",\n    hour12: true,\n  });\n  return date + \", \" + time;\n};\n","const ERC20_DECIMALS = 18;\nexport { ERC20_DECIMALS };\n","import { useEffect, useRef } from \"react\";\nimport Jazzicon from \"@metamask/jazzicon\";\n\nexport default function Identicon({ address, size, ...rest }) {\n  const ref = useRef();\n\n  useEffect(() => {\n    if (address && ref.current) {\n      ref.current.innerHTML = \"\";\n      ref.current.appendChild(\n        Jazzicon(size, parseInt(address.slice(2, 10), 16))\n      );\n    }\n  }, [address, size]);\n\n  return (\n    <div {...rest}>\n      <div ref={ref} style={{ width: `${size}px`, height: `${size}px` }} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\nimport { formatBigNumber, truncateAddress } from \"./../utils\";\nimport Identicon from \"./ui/Identicon\";\n\nconst Wallet = ({ address, amount, symbol, destroy }) => {\n  if (address) {\n    return (\n      <>\n        <Dropdown>\n          <Dropdown.Toggle\n            variant=\"light\"\n            align=\"end\"\n            id=\"dropdown-basic\"\n            className=\"d-flex align-items-center border rounded-pill py-1\"\n          >\n            {amount ? (\n              <>\n                {formatBigNumber(amount)}{\" \"}\n                <span className=\"ms-1\"> {symbol}</span>\n              </>\n            ) : (\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\n            )}\n            <Identicon address={address} size={28} className=\"ms-2 me-1\" />\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu className=\"shadow-lg border-0\">\n            <Dropdown.Item\n              href={`https://alfajores-blockscout.celo-testnet.org/address/${address}/transactions`}\n              target=\"_blank\"\n            >\n              <Stack direction=\"horizontal\" gap={2}>\n                <i className=\"bi bi-person-circle fs-4\" />\n                <span className=\"font-monospace\">\n                  {truncateAddress(address)}\n                </span>\n              </Stack>\n            </Dropdown.Item>\n            <Dropdown.Divider />\n            <Dropdown.Item\n              as=\"button\"\n              className=\"d-flex align-items-center\"\n              onClick={() => {\n                destroy();\n              }}\n            >\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n              Disconnect\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default Wallet;\n","export default __webpack_public_path__ + \"static/media/celo-logo.0b0d4139.png\";","import logo from \"./images/celo-logo.png\";\nimport { Button } from \"react-bootstrap\";\n\nconst Cover = ({ connect }) => {\n  const connectWallet = async () => {\n    try {\n      await connect();\n    } catch (e) {\n      console.log({ e });\n    }\n  };\n  return (\n    <>\n      <div className=\"cover\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>Celo NFT Lottery</p>\n        <Button variant=\"primary\" onClick={connectWallet}>\n          Connect Wallet\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default Cover;\n","import BigNumber from \"bignumber.js\";\nimport NFTLotteryAddress from \"../contracts/NFTLotteryAddress.json\";\nimport {\n  NotificationSuccess,\n  NotificationError,\n} from \"../components/ui/Notifications\";\nimport { toast } from \"react-toastify\";\n\nexport const setOperator = async (\n  NFTLotteryContract,\n  performActions,\n  { operatorAddress }\n) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .setOperator(operatorAddress)\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const startLottery = async (NFTLotteryContract, performActions) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .startLottery()\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const approve = async (\n  IECR20Contract,\n  performActions,\n  { noOfTickets, ticketPrice }\n) => {\n  try {\n    const amount = noOfTickets * ticketPrice;\n    const amountToApprove = new BigNumber(amount).toString();\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await IECR20Contract.methods\n        .approve(NFTLotteryAddress.NFTLottery, amountToApprove)\n        .send({ from: defaultAccount });\n      toast(<NotificationSuccess text=\"Contract Approved....\" />);\n    });\n    return true;\n  } catch (e) {\n    toast(<NotificationError text=\"Please Approve Contract to continue.\" />);\n    console.log({ e });\n    return false;\n  }\n};\n\n//call approve function before calling this function\nexport const buyTickets = async (\n  NFTLotteryContract,\n  performActions,\n  { noOfTickets }\n) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .buyTicket(noOfTickets)\n        .send({ from: defaultAccount });\n    });\n    toast(<NotificationSuccess text=\"Ticket(s) Bought successfully\" />);\n  } catch (e) {\n    toast(<NotificationError text=\"Ticket(s) Purchase failed.\" />);\n    console.log({ e });\n  }\n};\n\nexport const getWinningTickets = async (NFTLotteryContract, performActions) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .getWinningTickets()\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const payoutWinner = async (NFTLotteryContract, performActions) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .payoutWinner()\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const withdrawContractFunds = async (\n  NFTLotteryContract,\n  performActions\n) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .withdrawContractFunds()\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const updateLotteryInterval = async (\n  NFTLotteryContract,\n  performActions,\n  { lotteryInterval, timeUnit }\n) => {\n  try {\n    await performActions(async (kit) => {\n      const { defaultAccount } = kit;\n      await NFTLotteryContract.methods\n        .updateLotteryInterval(lotteryInterval, timeUnit)\n        .send({ from: defaultAccount });\n    });\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const getCurrentLotteryID = async (NFTLotteryContract) => {\n  try {\n    const ID = await NFTLotteryContract.methods.getLotteryID().call();\n    return ID;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const getLottery = async (NFTLotteryContract, { lotteryID }) => {\n  try {\n    const _lottery = await NFTLotteryContract.methods\n      .viewLottery(lotteryID)\n      .call();\n    return _lottery;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const checkTicketPrice = async (NFTLotteryContract) => {\n  try {\n    const ticketPrice = await NFTLotteryContract.methods\n      .checkTicketPrice()\n      .call();\n    return ticketPrice;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const checkContractBalance = async (NFTLotteryContract) => {\n  try {\n    const contractBalance = await NFTLotteryContract.methods\n      .checkContractFunds()\n      .call();\n    return contractBalance;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const getLotteryOperator = async (NFTLotteryContract) => {\n  try {\n    const operatorAddress = await NFTLotteryContract.methods\n      .getOperator()\n      .call();\n    return operatorAddress;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n\nexport const getPlayerTicketCount = async (\n  NFTLotteryContract,\n  { address, lotteryID }\n) => {\n  try {\n    const ticketCount = await NFTLotteryContract.methods\n      .getPlayerTicketCount(address, lotteryID)\n      .call();\n\n    return ticketCount;\n  } catch (e) {\n    console.log({ e });\n  }\n};\n","import React, { useState } from \"react\";\nimport { getLottery, getPlayerTicketCount } from \"../../utils/NFTLottery\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { formatBigNumber, convertTime, truncateAddress } from \"../../utils\";\nimport BigNumber from \"bignumber.js\";\n\nconst PrevRounds = ({\n  NFTLotteryContract,\n  prevLottery,\n  ticketPrice,\n  previousLotteryPlayerTickets,\n}) => {\n  const { kit } = useContractKit();\n  const init = {\n    ID: 0,\n    winner: \"0x000000000000000000000000000000000000dEaD\",\n    noOfTicketsSold: 0,\n    noOfPlayers: 0,\n    winningTicket: 0,\n    amountInLottery: 0,\n    lotteryStartTime: 0,\n    lotteryEndTime: 0,\n  };\n\n  const _lottery = prevLottery ? prevLottery : init;\n\n  const [lotteryId, setLotteryID] = useState(_lottery.ID);\n\n  const [lottery, setLottery] = useState(_lottery);\n\n  const [playerTickets, setPlayerTicket] = useState(\n    previousLotteryPlayerTickets\n  );\n\n  const previousLottery = async (e) => {\n    e.preventDefault();\n    const lotteryID = lotteryId - 1;\n    if (lotteryID < 1) {\n      return;\n    }\n    const address = kit.defaultAccount;\n    const result = await getLottery(NFTLotteryContract, { lotteryID });\n    const _playerTickets = await getPlayerTicketCount(NFTLotteryContract, {\n      address,\n      lotteryID,\n    });\n    setLottery(result);\n    setPlayerTicket(_playerTickets);\n    setLotteryID(lotteryID);\n  };\n\n  const nextLottery = async (e) => {\n    e.preventDefault();\n    const lotteryID = lotteryId + 1;\n    if (lotteryID > _lottery.ID) {\n      return;\n    }\n    const address = kit.defaultAccount;\n    const result = await getLottery(NFTLotteryContract, { lotteryID });\n    const _playerTickets = await getPlayerTicketCount(NFTLotteryContract, {\n      address,\n      lotteryID,\n    });\n    setPlayerTicket(_playerTickets);\n    setLottery(result);\n    setLotteryID(lotteryID);\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"tabs-container header\">\n          <div className=\"tab\">Lottery History</div>\n        </div>\n        <div className=\"lottery-container\">\n          <div className=\"lottery-header\">\n            <div className=\"round-details\">\n              <p>\n                <strong>ID: </strong>{\" \"}\n                <span className=\"round-num\">{lotteryId}</span>\n              </p>\n              <div className=\"rounds-nav\">\n                <a href=\"/#\" onClick={previousLottery} className=\"prev\">\n                  &#8592;\n                </a>\n                <a href=\"/#\" onClick={nextLottery} className=\"next\">\n                  &#8594;\n                </a>\n              </div>\n            </div>\n            <p>\n              <strong>Drawn: </strong> {convertTime(lottery.lotteryEndTime)}\n            </p>\n            <p>\n              <strong>Winner: </strong>\n              <a\n                href={`https://alfajores-blockscout.celo-testnet.org/address/${lottery.winner}/transactions`}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {truncateAddress(lottery.winner)}\n              </a>\n            </p>\n          </div>\n          <div className=\"lottery-body\">\n            <p>\n              <strong>Price Per Ticket: </strong>{\" \"}\n              {formatBigNumber(new BigNumber(ticketPrice))} cUSD\n            </p>\n            <p>\n              <strong>No of Tickets Sold: </strong> {lottery.noOfTicketsSold}\n            </p>\n            <p>\n              <strong>Participants: </strong>\n              {lottery.noOfPlayers}\n            </p>\n            <p>\n              <strong>Prize: </strong>{\" \"}\n              {formatBigNumber(new BigNumber(lottery.amountInLottery / 2))} cUSD\n            </p>\n            <p>\n              <strong>Your Tickets: </strong>\n              {playerTickets}\n            </p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PrevRounds;\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\n\nexport const useContract = (abi, contractAddress) => {\n  const { getConnectedKit, address } = useContractKit();\n  const [contract, setContract] = useState(null);\n\n  const getContract = useCallback(async () => {\n    const kit = await getConnectedKit();\n    setContract(new kit.web3.eth.Contract(abi, contractAddress));\n  }, [getConnectedKit, abi, contractAddress]);\n\n  useEffect(() => {\n    if (address) getContract();\n  }, [address, getContract]);\n\n  return contract;\n};\n","import React, { useState } from \"react\";\nimport { Modal, Button, Form, FloatingLabel } from \"react-bootstrap\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { buyTickets, approve } from \"../../utils/NFTLottery\";\nimport { useAsync } from \"../../hooks\";\nimport { useIERC20Contract } from \"../../hooks\";\nimport { formatBigNumber } from \"../../utils\";\nimport BigNumber from \"bignumber.js\";\n\nconst BuyTicketForm = ({\n  updateLottery,\n  NFTLotteryContract,\n  ticketPrice,\n  open,\n  onClose,\n}) => {\n  const { performActions } = useContractKit();\n  const [amount, setAmount] = useState(0);\n  const [noOfTickets, setTicketNumber] = useState(0);\n  const IECR20Contract = useIERC20Contract();\n  const handleClose = () => {\n    onClose();\n  };\n\n  async function _buyTicket() {\n    let approved;\n    try {\n      approved = await approve(IECR20Contract, performActions, {\n        noOfTickets,\n        ticketPrice,\n      });\n    } catch (error) {\n      console.log({ error });\n    }\n    if (approved) {\n      try {\n        //after approval\n        await buyTickets(NFTLotteryContract, performActions, { noOfTickets });\n        await updateLottery();\n      } catch (error) {\n        console.log({ error });\n      }\n    }\n  }\n\n  const result = useAsync(_buyTicket, false);\n\n  function onChange(e) {\n    const noOfTickets = e.target.value;\n    const amounts = ticketPrice * noOfTickets;\n    setTicketNumber(noOfTickets);\n    setAmount(amounts);\n  }\n\n  async function onSubmit() {\n    if (result.status === \"pending\") {\n      return;\n    }\n    result.execute();\n    handleClose();\n  }\n\n  return (\n    <Modal show={open} onHide={onClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Buy TIckets</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>Ticket Price: {formatBigNumber(new BigNumber(ticketPrice))} cUSD</p>\n        <p>You Pay: {formatBigNumber(new BigNumber(amount))} cUSD</p>\n        <Form onSubmit={onSubmit}>\n          <FloatingLabel\n            controlId=\"floatingNoOfTickets\"\n            label=\"Number Of Tickets\"\n          >\n            <Form.Control\n              type=\"number\"\n              onChange={(e) => onChange(e)}\n              placeholder=\"Number of Tickets\"\n            />\n          </FloatingLabel>\n          <Button variant=\"success\" type=\"submit\">\n            Pay Now\n          </Button>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default BuyTicketForm;\n","import { useContract } from \"./useContract\";\nimport IERC20Token from \"../contracts/IERC20.json\";\nimport IERC20TokenAddress from \"../contracts/IERC20TokenAddress.json\";\n\n// export interface for smart contract\nexport const useIERC20Contract = () =>\n  useContract(IERC20Token.abi, IERC20TokenAddress.cUSDToken);\n","import { useState, useEffect, useCallback } from \"react\";\n\n// // Usage\n// function App() {\n//   const { execute, status, value, error } = useAsync(myFunction, false);\n\n//   return (\n//     <div>\n//       {status === \"idle\" && <div>Start your journey by clicking a button</div>}\n//       {status === \"success\" && <div>{value}</div>}\n//       {status === \"error\" && <div>{error}</div>}\n//       <button onClick={execute} disabled={status === \"pending\"}>\n//         {status !== \"pending\" ? \"Click me\" : \"Loading...\"}\n//       </button>\n//     </div>\n//   );\n// }\n\n// // An async function for testing our hook.\n// // Will be successful 50% of the time.\n// const myFunction = () => {\n//   return new Promise((resolve, reject) => {\n//     setTimeout(() => {\n//       const rnd = Math.random() * 10;\n//       rnd <= 5\n//         ? resolve(\"Submitted successfully ðŸ™Œ\")\n//         : reject(\"Oh no there was an error ðŸ˜ž\");\n//     }, 2000);\n//   });\n// };\n\n// // Hook\nexport const useAsync = (asyncFunction, immediate = true) => {\n  const [status, setStatus] = useState(\"idle\");\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n\n  // The execute function wraps asyncFunction and\n  // handles setting state for pending, value, and error.\n  // useCallback ensures the below useEffect is not called\n  // on every render, but only if asyncFunction changes.\n  const execute = useCallback(() => {\n    setStatus(\"pending\");\n    setValue(null);\n    setError(null);\n\n    return asyncFunction()\n      .then((response) => {\n        setValue(response);\n        setStatus(\"success\");\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"error\");\n      });\n  }, [asyncFunction]);\n\n  // Call execute if we want to fire it right away.\n  // Otherwise execute can be called later, such as\n  // in an onClick handler.\n  useEffect(() => {\n    let status = immediate;\n    if (status) {\n      execute();\n    }\n    return () => {\n      status = false;\n    };\n  }, [execute, immediate]);\n\n  return { execute, status, value, error };\n};\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n  <div className=\"d-flex justify-content-center\">\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  </div>\n);\nexport default Loader;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport {\n  getLottery,\n  getCurrentLotteryID,\n  checkTicketPrice,\n  getPlayerTicketCount,\n} from \"../../utils/NFTLottery\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { formatBigNumber } from \"../../utils\";\nimport PrevRounds from \"./prevRounds\";\nimport BuyTicketForm from \"./buyTicketForm\";\nimport BigNumber from \"bignumber.js\";\nimport Loader from \"../ui/Loader\";\nimport { convertTime } from \"../../utils\";\n\nconst NFTLottery = ({ NFTLotteryContract }) => {\n  const { kit } = useContractKit();\n  const address = kit.defaultAccount;\n  const [loading, setLoading] = useState(false);\n  const [lottery, setLottery] = useState({});\n  const [prevLottery, setPrevLottery] = useState({});\n  const [ticketPrice, setTicketPrice] = useState(0);\n  const [playerTickets, setPlayerTicket] = useState(0);\n  const [previousLotteryPlayerTickets, setPreviousLotteryPlayerTickets] =\n    useState(0);\n  const [open, openModal] = useState(false);\n\n  const updateLottery = useCallback(async () => {\n    try {\n      setLoading(true);\n      const lotteryID = await getCurrentLotteryID(NFTLotteryContract);\n      if (lotteryID > 1) {\n        var prevLotteryID = Number(lotteryID) - 1;\n        prevLotteryID = prevLotteryID.toString();\n        const prevLottery = await getLottery(NFTLotteryContract, {\n          lotteryID: prevLotteryID,\n        });\n        const _playerTickets = await getPlayerTicketCount(NFTLotteryContract, {\n          address,\n          lotteryID: prevLotteryID,\n        });\n        setPrevLottery(prevLottery);\n        setPreviousLotteryPlayerTickets(_playerTickets);\n      }\n\n      const _lottery = await getLottery(NFTLotteryContract, { lotteryID });\n      const _ticketPrice = await checkTicketPrice(NFTLotteryContract);\n      const _playerTickets = await getPlayerTicketCount(NFTLotteryContract, {\n        address,\n        lotteryID,\n      });\n\n      setPlayerTicket(_playerTickets);\n      setLottery(_lottery);\n      setTicketPrice(_ticketPrice);\n    } catch (e) {\n      console.log({ e });\n    } finally {\n      setLoading(false);\n    }\n  }, [NFTLotteryContract, address]);\n\n  useEffect(() => {\n    try {\n      if (NFTLotteryContract) {\n        updateLottery();\n      }\n    } catch (error) {\n      console.log({ error });\n    }\n  }, [NFTLotteryContract, updateLottery]);\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          <div className=\"container\">\n            <div className=\"tabs-container header\">\n              <div className=\"tab\">Current Lottery</div>\n            </div>\n            <div className=\"lottery-container\">\n              <div className=\"lottery-header\">\n                <div>\n                  <p>\n                    <strong>ID: </strong> {lottery.ID}\n                  </p>\n                  <p>\n                    <strong>Lottery Ends In: </strong>{\" \"}\n                    {convertTime(lottery.lotteryEndTime)}\n                  </p>\n                </div>\n              </div>\n              <div className=\"lottery-body\">\n                <p>\n                  <strong>Price Per Ticket: </strong>{\" \"}\n                  {formatBigNumber(new BigNumber(ticketPrice))} cUSD\n                </p>\n                <p>\n                  <strong>No Of tickets Sold: </strong>\n                  {lottery.noOfTicketsSold}\n                </p>\n                <p>\n                  <strong>Participants: </strong>\n                  {lottery.noOfPlayers}\n                </p>\n                <p>\n                  <strong>Prize: </strong>{\" \"}\n                  {formatBigNumber(new BigNumber(lottery.amountInLottery / 2))}{\" \"}\n                  cUSD\n                </p>\n                <p>\n                  <strong>Your Tickets: </strong>\n                  {playerTickets}\n                </p>\n              </div>\n              <div className=\"lottery-footer\">\n                <Button\n                  variant=\"success\"\n                  className=\"buy-lottery-btn\"\n                  onClick={() => openModal(true)}\n                >\n                  Buy Ticket\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          <PrevRounds\n            NFTLotteryContract={NFTLotteryContract}\n            prevLottery={prevLottery}\n            ticketPrice={ticketPrice}\n            previousLotteryPlayerTickets={previousLotteryPlayerTickets}\n          />\n        </>\n      ) : (\n        <Loader />\n      )}\n      {open && (\n        <BuyTicketForm\n          updateLottery={updateLottery}\n          NFTLotteryContract={NFTLotteryContract}\n          ticketPrice={ticketPrice}\n          open={open}\n          onClose={() => openModal(false)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default NFTLottery;\n","import React from \"react\";\nimport { Container, Nav } from \"react-bootstrap\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { Notification } from \"./components/ui/Notifications\";\nimport Wallet from \"./components/Wallet\";\nimport Cover from \"./components/Cover\";\nimport NFTLottery from \"./components/NFTLottery/NFTLottery\";\nimport { useBalance, useNFTLotteryContract } from \"./hooks\";\nimport \"./App.css\";\n\nconst App = function AppWrapper() {\n  const { address, destroy, connect } = useContractKit();\n  const { balance } = useBalance();\n  const NFTLotteryContract = useNFTLotteryContract();\n\n  return (\n    <>\n      <Notification />\n      {address ? (\n        <>\n          <Container fluid=\"md\" className=\"hero\">\n            <Nav className=\"justify-content-end pt-3 pb-5\">\n              <Nav.Item>\n                {/*display user wallet*/}\n                <Wallet\n                  address={address}\n                  amount={balance.cUSD}\n                  symbol=\"cUSD\"\n                  destroy={destroy}\n                />\n              </Nav.Item>\n            </Nav>\n            <div className=\"header\">\n              <p className=\"title light\">CELO NFT Lottery</p>\n              <p className=\"subtitle light\">\n                A lottery platform built on top of Celo Blockchain ðŸ”¦\n              </p>\n            </div>\n            {/* display cover */}\n          </Container>\n          <NFTLottery NFTLotteryContract={NFTLotteryContract} />\n        </>\n      ) : (\n        // display cover if user is not connected\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Cover connect={connect} />\n          </header>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\n\nexport const useBalance = () => {\n  const { address, kit } = useContractKit();\n  const [balance, setBalance] = useState(0);\n\n  const getBalance = useCallback(async () => {\n    // fetch a connected wallet token balance\n    const value = await kit.getTotalBalance(address);\n    setBalance(value);\n  }, [address, kit]);\n\n  useEffect(() => {\n    if (address) getBalance();\n  }, [address, getBalance]);\n\n  return {\n    balance,\n    getBalance,\n  };\n};\n","import { useContract } from \"./useContract\";\nimport NFTLottery from \"../contracts/NFTLottery.json\";\nimport NFTLotteryAddress from \"../contracts/NFTLotteryAddress.json\";\n\n// export interface for smart contract\nexport const useNFTLotteryContract = () =>\n  useContract(NFTLottery.abi, NFTLotteryAddress.NFTLottery);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  ContractKitProvider,\n  Alfajores,\n  NetworkNames,\n} from \"@celo-tools/use-contractkit\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@celo-tools/use-contractkit/lib/styles.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"./css/style.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContractKitProvider\n      networks={[Alfajores]}\n      network={{\n        name: NetworkNames.Alfajores,\n        rpcUrl: \"https://alfajores-forno.celo-testnet.org\",\n        graphQl: \"https://alfajores-blockscout.celo-testnet.org/graphiql\",\n        explorer: \"https://alfajores-blockscout.celo-testnet.org\",\n        chainId: 44787,\n      }}\n      dapp={{\n        name: \"Celo NFT Lottery\",\n        description: \"Lottery DAPP for Dacade Submission\",\n      }}\n    >\n      <App />\n    </ContractKitProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}